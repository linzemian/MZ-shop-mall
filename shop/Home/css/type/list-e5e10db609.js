!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="/search/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,a){i.apply(this,[t,e,a].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){n(1),n(4),n(9),n(11),n(23);var i=n(34);new i({speed:200,smartHeight:500})},function(t,e){},,,1,,,,,1,,function(t,e,n){n(12),n(14);var i,a,r,s=n(16),o=n(17),l=n(18),c=n(19),u=n(20),d=n(21),h=n(22),p=window.MZ,v={cate:s("#slCategory"),prop:s("#slProp"),filter:s("#filter"),order:s("#J_filterOrder"),list:s("#goodsListWrap"),level:s("#crumbsLevel"),listCon:s("#goodsList"),pages:s("#pages"),empty:s("#empty"),recommend:s("#recommend")};i=l.Model.extend({defaults:{cateMap:null,currentKey:"",activeCate:"",totalPage:0,pageNumber:1,pageSize:24,params:{categories:"",features:"",sortName:"PRICE",sortDirection:1,onlyShowInStock:!1},levelRelation:[]}}),new(a=l.View.extend({events:{"click #crumbsLevel a":"crumbsCategory","click #J_filterOrder a":"setOrder","click #slCategory .mod-value a":"setCategory","click #slProp .mod-value a":"setProp","click .sl-e-more":"extMore","click #J_filterCondition .bs-checkbox":"setCondition","mouseover .mod-name a":"hoverTitle"},initialize:function(){var t=this;t.listenTo(t.model,"change:params",t.exectueQuery),t.listenTo(t.model,"change:pageNumber",t.pageChangeHandler),t.listenTo(t.model,"change:levelRelation",t.renderLevel),t.initFull(),t.pages(),s(window).on("load",function(){history.pushState&&setTimeout(function(){window.addEventListener("popstate",function(e){var n=e.state;n&&n.cateId?location.href=t.changeUrlByParam():location.reload()},!1)},200)})},initFull:function(){var t=this,e=t.model,n=e.get("activeCate"),i=e.get("features"),a=e.get("cateMap"),r=a[n],s={categories:r.saleCategoryList.full.split(":")[1],features:i||{},sortName:"SYS",sortDirection:1,onlyShowInStock:!1};e.set("params",s,{silent:!0}),t.syncLevel(n)},setOrder:function(t){t.preventDefault();var e=this,n=e.model,i=s.extend(!0,{},n.get("params")),a=["SYS","PUBLISHED_TIME","PRICE"],r=s(t.currentTarget),o=r.find("i"),l=r.data("tag");r.hasClass("active")?2===l&&o.hasClass("icon-arrow-down")?(o.removeClass("icon-arrow-down").addClass("icon-arrow-up"),i.sortDirection=1):2===l&&o.hasClass("icon-arrow-up")?(o.removeClass("icon-arrow-up").addClass("icon-arrow-down"),i.sortDirection=-1):i.sortDirection=-1:2===l&&o.hasClass("icon-arrow-up")?i.sortDirection=1:i.sortDirection=-1,i.sortName=a[l].toUpperCase(),n.set("params",i),r.hasClass("active")&&2!==l&&e.queryList(!1),r.addClass("active").siblings().removeClass("active")},setCategory:function(t){t.preventDefault();var e=this,n=e.model,i=s.extend(!0,{},n.get("params")),a=s(t.currentTarget),r=a.data("value"),o=r.split(":"),l=o[0],c=e.getActiveData(l);i.categories=o[1],i.features={},c&&c.parentId&&"全部"===c.saleCatName.toString()&&(l=c.parentId,c=e.getActiveData(l)),n.set({currentKey:r,params:i,activeCate:l}),c&&e.syncLevel(l),l&&(e.renderCategory(c.saleCategoryList),e.renderProp(c.saleCatItemList))},syncLevel:function(t){var e,n=this,i=n.model,a=[];for(a.push(t),e=n.getActiveData(t);e&&e.parentId;)a.push(e.parentId),e=n.getActiveData(e.parentId);i.set("levelRelation",a)},pushHistory:function(){var t,e=this,n=e.model.get("activeCate"),i={cateId:n},a=e.changeUrlByParam(),r=e.getActiveData(n);t=r.saleCatName?r.saleCatName+" - 魅族官网在线商店":"魅族官网在线商店",document.title=t,window.history.pushState&&window.history.pushState(i,t,a)},changeUrlByParam:function(){var t=this,e=t.model,n=e.get("params"),i=e.get("activeCate"),a=location.href,r="",o="",l={},c=function(){var t="",e=[];return s.isEmptyObject(n.features)||(s.each(n.features,function(t,n){n&&e.push(t+":"+n)}),e.length&&(t+=e.join("-"))),t}();return i&&(l.categoryid=i),c&&(l.features=c),location.search&&(r=location.search.slice(1).replace(/categoryid=([^&]*)(&|$)/gi,""),r=r.replace(/features=([^&]*)(&|$)/gi,"")),s.param(l)&&r.length>1?o=s.param(l)+"&"+r:s.param(l)&&(o=s.param(l)),a=location.search&&location.search.match("[?]")?a.slice(0,location.href.indexOf("?")+1)+o:a+"?"+o},crumbsCategory:function(t){t.preventDefault();var e=this,n=e.model,i=s.extend(!0,{},n.get("params")),a=s(t.currentTarget).data("cateid"),r=e.getActiveData(a);i.categories=r.saleCategoryList.full.split(":")[1],i.features={},n.set({params:i,activeCate:a,currentKey:""}),r&&e.syncLevel(a),e.renderCategory(r.saleCategoryList),e.renderProp(r.saleCatItemList)},setProp:function(t){t.preventDefault();var e=this,n=e.model,i=s.extend(!0,{},n.get("params")),a=s(t.currentTarget),r=a.parent(),o=a.data("value"),l=o.split(":");r.hasClass("vm-all")&&(l[1]=""),r.addClass("active").siblings().removeClass("active"),i.features||(i.features={}),i.features[l[0]]=l[1],n.set("params",i)},setCondition:function(t){var e=this,n=e.model,i=s.extend(!0,{},n.get("params")),a=s(t.currentTarget);a.hasClass("checked")?(a.removeClass("checked"),i.onlyShowInStock=!1):(a.addClass("checked"),i.onlyShowInStock=!0),n.set("params",i)},extMore:function(t){t.preventDefault();var e=s(t.currentTarget),n=e.parent().prev().find("ul");n.css("height","auto"),e.hasClass("opened")?(e.removeClass("opened"),n.css("height","36px")):(e.addClass("opened"),n.css("height","auto"))},getActiveData:function(t){return this.model.get("cateMap")[t]},renderCategory:function(t){var e=this,n=e.model.get("currentKey"),i=o.template(d);t.currentKey=n,v.cate.html(i({data:t}))},renderProp:function(t){var e=o.template(h);t=t.filter(function(t){return t.sub.length>0}),v.prop.html(e({items:t}))},renderList:function(t){var e=o.template(u);v.list.html(e({items:t}))},renderLevel:function(){var t=this,e=t.model,n=e.get("cateMap"),i=e.get("levelRelation").slice().reverse(),a="";s.isArray(i)&&i.length&&s.each(i,function(t,e){a+=n[e]&&t!==i.length-1?'<a href="#" data-mtype="store_list_mbx_'+(t+2)+'" data-cateid="'+n[e].saleCatID+'">'+n[e].saleCatName+"</a>&nbsp;&gt;&nbsp;":n[e].saleCatName}),v.level.html(a)},paramParse:function(){var t=this,e=t.model,n=s.extend(!0,{},e.get("params")),i=[];return n.features&&s.each(n.features,function(t,e){e&&i.push(e)}),n.features=i.join("-"),n},exectueQuery:function(){var t=this;window.history.pushState?(t.paramQueryList(),t.pushHistory()):location.href=t.changeUrlByParam()},paramQueryList:function(){var t=this,e=t.model;e.set("pageNumber",1,{silent:!0}),t.queryList(!0)},pageChangeHandler:function(){var t=this;t.queryList(),s(document).scrollTop(s("#main").offset().top)},queryList:function(t){var e=this,n=e.model,i=n.get("pageNumber"),a=n.get("pageSize"),o=e.paramParse();s.ajax({url:"/pages/lists/search?pageNumber="+i+"&pageSize="+a,type:"post",data:o,dataType:"json"}).done(function(n){n.status&&n.data.content.length?(v.listCon.is(":hidden")&&(v.listCon.add(v.pages).add(v.filter).add(v.recommend).show(),v.empty.hide()),e.renderList(n.data.content),t===!0&&r.resetRender(1,n.data.totalPages)):(v.listCon.add(v.pages).add(v.filter).hide(),v.empty.show())}).fail(function(){})},pages:function(){var t=this,e=t.model,n=e.get("pageNumber"),i=e.get("totalPage");r=new c("#pages",{currentPage:n,totalPage:i,isAutoHide:!0,prevText:"",nextText:"",onSwitch:function(t){e.set("pageNumber",t)}})}}))({el:"#main",model:new i({cateMap:p.modelData.categoryMap,activeCate:p.modelData.active,totalPage:p.modelData.totalPage,features:p.modelData.features})})},1,,1,,function(t,e){t.exports=meizuStoreGlobal.jquery},function(t,e){t.exports=meizuStoreGlobal.underscore},function(t,e,n){var i,a;(function(r){!function(s){var o="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;i=[n(17),n(16),e],a=function(t,e,n){o.Backbone=s(o,n,t,e)}.apply(e,i),!(void 0!==a&&(t.exports=a))}(function(t,e,n,i){var a=t.Backbone,r=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=a,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,a){return n[e](this[i],l(t,this),a)};case 4:return function(t,a,r){return n[e](this[i],l(t,this),a,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},o=function(t,e,i){n.each(e,function(e,a){n[a]&&(t.prototype[a]=s(e,a,i))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?c(t):n.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},d=/\s+/,h=function(t,e,i,a,r){var s,o=0;if(i&&"object"==typeof i){void 0!==a&&"context"in r&&void 0===r.context&&(r.context=a);for(s=n.keys(i);o<s.length;o++)e=h(t,e,s[o],i[s[o]],r)}else if(i&&d.test(i))for(s=i.split(d);o<s.length;o++)e=t(e,s[o],a,r);else e=t(e,i,a,r);return e};u.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,i,a){if(t._events=h(v,t._events||{},e,n,{context:i,ctx:t,listening:a}),a){var r=t._listeners||(t._listeners={});r[a.id]=a}return t};u.listenTo=function(t,e,i){if(!t)return this;var a=t._listenId||(t._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=r[a];if(!s){var o=this._listenId||(this._listenId=n.uniqueId("l"));s=r[a]={obj:t,objId:a,id:o,listeningTo:r,count:0}}return p(t,e,i,this,s),this};var v=function(t,e,n,i){if(n){var a=t[e]||(t[e]=[]),r=i.context,s=i.ctx,o=i.listening;o&&o.count++,a.push({callback:n,context:r,ctx:r||s,listening:o})}return t};u.off=function(t,e,n){return this._events?(this._events=h(m,this._events,t,e,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(t,e,i){var a=this._listeningTo;if(!a)return this;for(var r=t?[t._listenId]:n.keys(a),s=0;s<r.length;s++){var o=a[r[s]];if(!o)break;o.obj.off(e,i,this)}return this};var m=function(t,e,i,a){if(t){var r,s=0,o=a.context,l=a.listeners;if(e||i||o){for(var c=e?[e]:n.keys(t);s<c.length;s++){e=c[s];var u=t[e];if(!u)break;for(var d=[],h=0;h<u.length;h++){var p=u[h];i&&i!==p.callback&&i!==p.callback._callback||o&&o!==p.context?d.push(p):(r=p.listening,r&&0===--r.count&&(delete l[r.id],delete r.listeningTo[r.objId]))}d.length?t[e]=d:delete t[e]}return t}for(var v=n.keys(l);s<v.length;s++)r=l[v[s]],delete l[r.id],delete r.listeningTo[r.objId]}};u.once=function(t,e,i){var a=h(f,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(a,e,i)},u.listenToOnce=function(t,e,i){var a=h(f,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,a)};var f=function(t,e,i,a){if(i){var r=t[e]=n.once(function(){a(e,r),i.apply(this,arguments)});r._callback=i}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return h(g,this._events,t,void 0,n),this};var g=function(t,e,n,i){if(t){var a=t[e],r=t.all;a&&r&&(r=r.slice()),a&&y(a,i),r&&y(r,[e].concat(i))}return t},y=function(t,e){var n,i=-1,a=t.length,r=e[0],s=e[1],o=e[2];switch(e.length){case 0:for(;++i<a;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<a;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<a;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<a;)(n=t[i]).callback.call(n.ctx,r,s,o);return;default:for(;++i<a;)(n=t[i]).callback.apply(n.ctx,e);return}};u.bind=u.on,u.unbind=u.off,n.extend(e,u);var b=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var a=n.result(this,"defaults");i=n.defaults(n.extend({},a,i),a),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var a;if("object"==typeof t?(a=t,i=e):(a={})[t]=e,i||(i={}),!this._validate(a,i))return!1;var r=i.unset,s=i.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var h in a)e=a[h],n.isEqual(c[h],e)||o.push(h),n.isEqual(d[h],e)?delete u[h]:u[h]=e,r?delete c[h]:c[h]=e;if(this.idAttribute in a&&(this.id=this.get(this.idAttribute)),!s){o.length&&(this._pending=i);for(var p=0;p<o.length;p++)this.trigger("change:"+o[p],this,c[o[p]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var a in t){var r=t[a];n.isEqual(e[a],r)||(i[a]=r)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var a=t.parse?e.parse(n,t):n;return!!e.set(a,t)&&(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},q(this,t),this.sync("read",this,t)},save:function(t,e,i){var a;null==t||"object"==typeof t?(a=t,i=e):(a={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var r=i.wait;if(a&&!r){if(!this.set(a,i))return!1}else if(!this._validate(a,i))return!1;var s=this,o=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;return r&&(e=n.extend({},a,e)),!(e&&!s.set(e,i))&&(o&&o.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},q(this,i),a&&r&&(this.attributes=n.extend({},l,a));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=a);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,a=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){a&&r(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(q(this,t),s=this.sync("delete",this,t)),a||r(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});var x={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(b,x,"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},T={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,a=Array(t.length-n),r=e.length;for(i=0;i<a.length;i++)a[i]=t[i+n];for(i=0;i<r;i++)t[i+n]=e[i];for(i=0;i<a.length;i++)t[i+r+n]=a[i]};n.extend(w.prototype,u,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,_))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var a=this._removeModels(t,e);return!e.silent&&a.length&&(e.changes={added:[],merged:[],removed:a},this.trigger("update",this,e)),i?a[0]:a},set:function(t,e){if(null!=t){e=n.extend({},T,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var a=e.at;null!=a&&(a=+a),a>this.length&&(a=this.length),a<0&&(a+=this.length+1);var r,s,o=[],l=[],c=[],u=[],d={},h=e.add,p=e.merge,v=e.remove,m=!1,f=this.comparator&&null==a&&e.sort!==!1,g=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){r=t[s];var y=this.get(r);if(y){if(p&&r!==y){var b=this._isModel(r)?r.attributes:r;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),f&&!m&&(m=y.hasChanged(g))}d[y.cid]||(d[y.cid]=!0,o.push(y)),t[s]=y}else h&&(r=t[s]=this._prepareModel(r,e),r&&(l.push(r),this._addReference(r,e),d[r.cid]=!0,o.push(r)))}if(v){for(s=0;s<this.length;s++)r=this.models[s],d[r.cid]||u.push(r);u.length&&this._removeModels(u,e)}var x=!1,w=!f&&h&&v;if(o.length&&w?(x=this.length!==o.length||n.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,S(this.models,o,0),this.length=this.models.length):l.length&&(f&&(m=!0),S(this.models,l,null==a?this.length:a),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(s=0;s<l.length;s++)null!=a&&(e.index=a+s),r=l[s],r.trigger("add",r,this,e);(m||x)&&this.trigger("sort",this,e),(l.length||u.length||c.length)&&(e.changes={added:l,removed:u,merged:c},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var a=t.reset?"reset":"set";i[a](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},q(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var a=this,r=e.success;return e.success=function(t,e,n){i&&a.add(t,n),r&&r.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var a=this.get(t[i]);if(a){var r=this.indexOf(a);this.models.splice(r,1),this.length--,delete this._byId[a.cid];var s=this.modelId(a.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=r,a.trigger("remove",a,this,e)),n.push(a),this._removeReference(a,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var a=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);a!==r&&(null!=a&&delete this._byId[a],null!=r&&(this._byId[r]=e))}}this.trigger.apply(this,arguments)}});var C={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(w,C,"models");var I=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,N)),this._ensureElement(),this.initialize.apply(this,arguments)},P=/^(\S+)\s*(.*)$/,N=["model","collection","el","id","attributes","className","tagName","events"];n.extend(I.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var a=e.match(P);this.delegate(a[1],a[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,a){var r=E[t];n.defaults(a||(a={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:r,dataType:"json"};if(a.url||(s.url=n.result(i,"url")||z()),null!=a.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(a.attrs||i.toJSON(a))),a.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),a.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",a.emulateJSON&&(s.data._method=r);var o=a.beforeSend;a.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===s.type||a.emulateJSON||(s.processData=!1);var l=a.error;a.error=function(t,e,n){a.textStatus=e,a.errorThrown=n,l&&l.call(a.context,t,e,n)};var c=a.xhr=e.ajax(n.extend(s,a));return i.trigger("request",i,c,a),c};var E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,H=/(\(\?)?:\w+/g,A=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,u,{initialize:function(){},route:function(t,i,a){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(a=i,i=""),a||(a=this[i]);var r=this;return e.history.route(t,function(n){var s=r._extractParameters(t,n);r.execute(a,s,i)!==!1&&(r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),e.history.trigger("route",r,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(M,"(?:$1)?").replace(H,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var L=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,j=/#.*$/;L.started=!1,n.extend(L.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(O,"")},start:function(t){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace($,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,a=i.insertBefore(this.iframe,i.firstChild).contentWindow;a.document.open(),a.document.close(),a.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!L.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(j,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;e.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new L;var W=function(t,e){var i,a=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return a.apply(this,arguments)},n.extend(i,a,e),i.prototype=n.create(a.prototype,t),i.prototype.constructor=i,i.__super__=a.prototype,i};b.extend=w.extend=k.extend=I.extend=L.extend=W;var z=function(){throw new Error('A "url" property or function must be specified')},q=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,function(){return this}())},function(t,e,n){var i,a,r;!function(s){a=[n(16)],i=s,r="function"==typeof i?i.apply(e,a):i,!(void 0!==r&&(t.exports=r))}(function(t){function e(e,i){this.$container=t(e),this.opts=t.extend({},n,i),this.init()}var n={currentPage:1,totalPage:10,clsPrefix:"ui-",prevText:"上一页",nextText:"下一页",isShowEntire:!1,isAutoHide:!1,onSwitch:function(t){}};return e.prototype={init:function(){this.render(),this.bindEvent()},getItemHtml:function(t,e){var n=this,i=n.opts;n.opts.clsPrefix;return e=e||"default","current"==e?'<span class="current p-elem">'+t+"</span>":"etc"==e||"etc"==t?'<span class="etc p-elem">…</span>':"total"==e||"total"==t?'<span class="p-total p-elem">共'+n.opts.totalPage+"页</span>":"prev"==e||"prev"==t?'<a class="p-prev p-elem" data-mtype="store_list_fy_prev" href="javascript:void(0);">'+i.prevText+"</a>":"prev-disable"==e||"prev-disable"==t?'<span class="p-prev disabled p-elem">'+i.prevText+"</span>":"next"==e||"next"==t?'<a class="p-next p-elem" data-mtype="store_list_fy_next" href="javascript:void(0);">'+i.nextText+"</a>":"next-disable"==e||"next-disable"==t?'<span class="p-next disabled p-elem">'+i.nextText+"</span>":"goto"==e||"goto"==t?'<span class="p-elem p-item-go">第<input class="p-ipt-go">页<a class="p-btn-go" href="javascript:void(0);">GO</a></span>':'<a class="p-item p-elem" href="javascript:void(0);" data-mtype="store_list_fy_'+t+'" data-page="'+t+'">'+t+"</a>"},render:function(){var t=this,e=t.opts,n=e.clsPrefix,i=e.totalPage,a=e.currentPage,r='<div class="'+n+'paginate">';if(r+=1==a?t.getItemHtml("prev-disable"):t.getItemHtml("prev"),i<=7)for(var s=1;s<i+1;s++)r+=a==s?t.getItemHtml(s,"current"):t.getItemHtml(s);else if(a<=3){for(var s=1;s<a;s++)r+=t.getItemHtml(s);r+=t.getItemHtml(a,"current")+t.getItemHtml(a+1)+t.getItemHtml(a+2)+t.getItemHtml("etc")+t.getItemHtml(i)}else if(a>=i-2){r+=t.getItemHtml(1)+t.getItemHtml("etc")+t.getItemHtml(a-2)+t.getItemHtml(a-1)+t.getItemHtml(a,"current");for(var s=a+1;s<i+1;s++)r+=t.getItemHtml(s)}else r+=t.getItemHtml(1),a-2>2&&(r+=t.getItemHtml("etc")),
r+=t.getItemHtml(a-2)+t.getItemHtml(a-1)+t.getItemHtml(a,"current")+t.getItemHtml(a+1)+t.getItemHtml(a+2),a+2<i-1&&(r+=t.getItemHtml("etc")),r+=t.getItemHtml(i);return r+=a==i?t.getItemHtml("next-disable"):t.getItemHtml("next"),e.isShowEntire&&(r+=t.getItemHtml("total"),r+=t.getItemHtml("goto")),e.isAutoHide&&e.totalPage<=1?t.$container.hide():t.$container.show(),t.$container.append(r),t},bindEvent:function(){var e=this,n=e.$container;n.on("click",".p-item",function(n){var i=t(n.currentTarget),a=i.data("page");e.gotoPage(a),n.preventDefault()}),n.on("click",".p-prev",function(t){e.gotoPrev(),t.preventDefault()}),n.on("click",".p-next",function(t){e.gotoNext(),t.preventDefault()}),n.on("click",".p-first",function(t){e.gotoFirst(),t.preventDefault()}),n.on("click",".p-last",function(t){e.gotoLast(),t.preventDefault()});var i=function(){var t=e.$container.find(".p-ipt-go").val();e.gotoPage(t)};return n.on("click",".p-btn-go",function(t){i(),t.preventDefault()}),n.on("keyup",".p-ipt-go",function(t){13==t.keyCode&&i(),t.preventDefault()}),e},destroy:function(){try{this.$container.off("click"),this.$container.html(""),delete this}catch(t){return!1}return!0},getCurrentPage:function(){return this.opts.currentPage},show:function(){return this.$container.show(),this},hide:function(){return this.$container.show(),this},gotoPage:function(t){var e=this,n=e.opts,i=e.$container,a=n.currentPage;return!(!t||isNaN(t))&&(t=parseInt(t,10),t<1&&(t=1),t>n.totalPage&&(t=n.totalPage),t!=a&&(n.currentPage=t,i.html(""),e.render(),n.onSwitch(t)),e)},gotoNext:function(){var t=this.opts.currentPage;return this.gotoPage(t+1),this},gotoPrev:function(){var t=this.opts.currentPage;return this.gotoPage(t-1),this},gotoFirst:function(){return this.gotoPage(1),this},gotoLast:function(){return this.gotoPage(this.get("totalPage")),this},resetRender:function(t,e){return t=t||1,this.opts.currentPage=t,e&&(this.opts.totalPage=e),this.$container.empty(),this.render(),this}},t.fn.pages=function(n){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=t(this),r=a.data("pages");r||a.data("pages",r=new e(this,n)),"string"==typeof n&&r[n](i)})},e})},function(t,e){t.exports='<% for(var i = 0, length = items.length; i < length; i++) { %>\n<li class="gl-item">\n    <dl class="gl-item-wrap">\n        <dd class="mod-pic">\n            <a data-mtype="store_list_kw_<%=(i+1) %>" target="_blank" href="http://detail.meizu.com/item/<%= items[i].itemNumber %>.html?click=store_list_kw_<%=(i+1) %>" title="<%= items[i].name %>">\n                <img width="220" height="220" src="<%=items[i].imageUrl %>@240x240.png">\n            </a>\n        </dd>\n        <dd class="mod-name">\n            <a data-mtype="store_list_kw_<%=(i+1) %>" target="_blank" href="http://detail.meizu.com/item/<%= items[i].itemNumber %>.html?click=store_list_kw_<%=(i+1) %>">\n                <%= items[i].name %>\n            </a>\n        </dd>\n        <dd class="mod-price">\n            <% if (items[i].discountFlag) { %>\n                <span class="vm-coupon">限时特惠</span>\n            <% } %>\n            <span>￥</span>\n            <span class="vm-price"><%= items[i].minPrice %></span>\n            <% if (items[i].startPriceFlag) { %>\n                <span class="vm-start">起</span>\n            <% } %>\n        </dd>\n    </dl>\n</li>\n<% } %>'},function(t,e){t.exports='<% if( data.sub && data.sub.length) { %>\n    <div class="sl-line-wrap">\n        <div class="mod-key"><strong><%=data.text %>：</strong></div>\n        <div class="mod-value">\n            <div class="mod-value-list">\n                <ul>\n                    <% for(var i = 0, length = data.sub.length; i < length; i++) { %>\n                    <li class="<% if (data.currentKey === data.sub[i].value) {%>active <%} %>">\n                        <a data-value="<%=data.sub[i].value %>" data-tag="<%= data.sub[i].tag %>" data-mtype="store_list_fl_<%=(i+1) %>" href="#" title="<%= data.sub[i].text %>"><%= data.sub[i].text %></a>\n                    </li>\n                    <% } %>\n                </ul>\n            </div>\n        </div>\n        <div class="mod-ext">\n            <a class="sl-e-more J_extMore" href="javascript:;" style="<% if(length > 8) { %>visibility: visible;<% } %>">更多<i></i></a>\n        </div>\n    </div>\n<% } %>'},function(t,e){t.exports='    <% for(var i = 0, length = items.length; i < length; i++) { %>\n        <div class="sl-line-wrap">\n            <div class="mod-key"><span><%= items[i].text %>：</span></div>\n            <div class="mod-value">\n                <div class="mod-value-list">\n                    <ul>\n                        <% if(items[i].showAll) { %>\n                        <li class="vm-all">\n                            <a data-mtype="store_list_xf_<%=(i+1) %>_1" data-value="<%=items[i].full %>" href="#" title="全部">全部</a>\n                        </li>\n                        <% } %>\n                        <% for(var j = 0, length2 = items[i].sub.length; j < length2; j++) { %>\n                        <li>\n                            <a data-mtype="store_list_xf_<%=(i+1) %>_<%=(j+2) %>" data-value="<%=items[i].sub[j].value  %>" href="#" title="<%= items[i].sub[j].text %>"><%= items[i].sub[j].text %></a>\n                        </li>\n                        <% } %>\n                    </ul>\n                </div>\n            </div>\n            <div class="mod-ext">\n                <a class="sl-e-more J_extMore" href="javascript:;" style="<% if(length2 > 7) { %>visibility: visible;<% } %>">更多<i></i></a>\n            </div>\n        </div>\n    <% } %>'},function(t,e,n){n(24),n(29);var i=n(16);n(30),i("#J_recommendSlider").flexslider({animation:"slide",selector:".recommend-slider-wrap > .rs-item",customDirectionNav:i("#recommendDirectionNav a"),animationLoop:!1,slideshow:!1,itemWidth:245,itemMargin:5,minItems:1,maxItems:5,controlNav:!1})},1,,,,,1,function(t,e,n){(function(t){var e=$=n(16);!function(e){var n=!0;e.flexslider=function(i,a){var r=e(i);r.vars=e.extend({},e.flexslider.defaults,a);var s,o=r.vars.namespace,l=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,c=("ontouchstart"in window||l||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp keyup",d="",h="vertical"===r.vars.direction,p=r.vars.reverse,v=r.vars.itemWidth>0,m="fade"===r.vars.animation,f=""!==r.vars.asNavFor,g={};e.data(i,"flexslider",r),g={init:function(){r.animating=!1,r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0,10),isNaN(r.currentSlide)&&(r.currentSlide=0),r.animatingTo=r.currentSlide,r.atEnd=0===r.currentSlide||r.currentSlide===r.last,r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" ")),r.slides=e(r.vars.selector,r),r.container=e(r.containerSelector,r),r.count=r.slides.length,r.syncExists=e(r.vars.sync).length>0,"slide"===r.vars.animation&&(r.vars.animation="swing"),r.prop=h?"top":"marginLeft",r.args={},r.manualPause=!1,r.stopped=!1,r.started=!1,r.startTimeout=null,r.transitions=!r.vars.video&&!m&&r.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in e)if(void 0!==t.style[e[n]])return r.pfx=e[n].replace("Perspective","").toLowerCase(),r.prop="-"+r.pfx+"-transform",!0;return!1}(),r.ensureAnimationEnd="",""!==r.vars.controlsContainer&&(r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer)),""!==r.vars.manualControls&&(r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls)),""!==r.vars.customDirectionNav&&(r.customDirectionNav=2===e(r.vars.customDirectionNav).length&&e(r.vars.customDirectionNav)),r.vars.randomize&&(r.slides.sort(function(){return Math.round(Math.random())-.5}),r.container.empty().append(r.slides)),r.doMath(),r.setup("init"),r.vars.controlNav&&g.controlNav.setup(),r.vars.directionNav&&g.directionNav.setup(),r.vars.keyboard&&(1===e(r.containerSelector).length||r.vars.multipleKeyboard)&&e(document).bind("keyup",function(t){var e=t.keyCode;if(!r.animating&&(39===e||37===e)){var n=39===e?r.getTarget("next"):37===e&&r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}}),r.vars.mousewheel&&r.bind("mousewheel",function(t,e,n,i){t.preventDefault();var a=e<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(a,r.vars.pauseOnAction)}),r.vars.pausePlay&&g.pausePlay.setup(),r.vars.slideshow&&r.vars.pauseInvisible&&g.pauseInvisible.init(),r.vars.slideshow&&(r.vars.pauseOnHover&&r.hover(function(){r.manualPlay||r.manualPause||r.pause()},function(){r.manualPause||r.manualPlay||r.stopped||r.play()}),r.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play())),f&&g.asNav.setup(),c&&r.vars.touch&&g.touch(),(!m||m&&r.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",g.resize),r.find("img").attr("draggable","false"),setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=!0,r.animatingTo=Math.floor(r.currentSlide/r.move),r.currentItem=r.currentSlide,r.slides.removeClass(o+"active-slide").eq(r.currentItem).addClass(o+"active-slide"),l?(i._slider=r,r.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();e(r.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))})})):r.slides.on(u,function(t){t.preventDefault();var n=e(this),i=n.index(),a=n.offset().left-e(r).scrollLeft();a<=0&&n.hasClass(o+"active-slide")?r.flexAnimate(r.getTarget("prev"),!0):e(r.vars.asNavFor).data("flexslider").animating||n.hasClass(o+"active-slide")||(r.direction=r.currentItem<i?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){r.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,n,i="thumbnails"===r.vars.controlNav?"control-thumbs":"control-paging",a=1;if(r.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+i+'"></ol>'),r.pagingCount>1)for(var s=0;s<r.pagingCount;s++){if(n=r.slides.eq(s),void 0===n.attr("data-thumb-alt")&&n.attr("data-thumb-alt",""),altText=""!==n.attr("data-thumb-alt")?altText=' alt="'+n.attr("data-thumb-alt")+'"':"",t="thumbnails"===r.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+a+"</a>","thumbnails"===r.vars.controlNav&&!0===r.vars.thumbCaptions){var l=n.attr("data-thumbcaption");""!==l&&void 0!==l&&(t+='<span class="'+o+'caption">'+l+"</span>")}r.controlNavScaffold.append("<li>"+t+"</li>"),a++}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),r.controlNavScaffold.delegate("a, img",u,function(t){if(t.preventDefault(),""===d||d===t.type){var n=e(this),i=r.controlNav.index(n);n.hasClass(o+"active")||(r.direction=i>r.currentSlide?"next":"prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===d&&(d=t.type),g.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls,g.controlNav.active(),r.controlNav.bind(u,function(t){if(t.preventDefault(),""===d||d===t.type){var n=e(this),i=r.controlNav.index(n);n.hasClass(o+"active")||(i>r.currentSlide?r.direction="next":r.direction="prev",r.flexAnimate(i,r.vars.pauseOnAction))}""===d&&(d=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===r.vars.controlNav?"img":"a";r.controlNav=e("."+o+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(o+"active").eq(r.animatingTo).addClass(o+"active")},update:function(t,n){r.pagingCount>1&&"add"===t?r.controlNavScaffold.append(e('<li><a href="#">'+r.count+"</a></li>")):1===r.pagingCount?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove(),g.controlNav.set(),r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):g.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+r.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+r.vars.nextText+"</a></li></ul>");r.customDirectionNav?r.directionNav=r.customDirectionNav:r.controlsContainer?(e(r.controlsContainer).append(t),r.directionNav=e("."+o+"direction-nav li a",r.controlsContainer)):(r.append(t),r.directionNav=e("."+o+"direction-nav li a",r)),g.directionNav.update(),r.directionNav.bind(u,function(t){t.preventDefault();var n;e(this).hasClass(o+"disabled")||""!==d&&d!==t.type||(n=e(this).hasClass(o+"next")?r.getTarget("next"):r.getTarget("prev"),r.flexAnimate(n,r.vars.pauseOnAction)),""===d&&(d=t.type),g.setToClearWatchedEvent()})},update:function(){var t=o+"disabled";1===r.pagingCount?r.directionNav.addClass(t).attr("tabindex","-1"):r.vars.animationLoop?r.directionNav.removeClass(t).removeAttr("tabindex"):0===r.animatingTo?r.directionNav.removeClass(t).filter("."+o+"prev").addClass(t).attr("tabindex","-1"):r.animatingTo===r.last?r.directionNav.removeClass(t).filter("."+o+"next").addClass(t).attr("tabindex","-1"):r.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a href="#"></a></div>');r.controlsContainer?(r.controlsContainer.append(t),r.pausePlay=e("."+o+"pauseplay a",r.controlsContainer)):(r.append(t),r.pausePlay=e("."+o+"pauseplay a",r)),g.pausePlay.update(r.vars.slideshow?o+"pause":o+"play"),r.pausePlay.bind(u,function(t){t.preventDefault(),""!==d&&d!==t.type||(e(this).hasClass(o+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())),""===d&&(d=t.type),g.setToClearWatchedEvent()})},update:function(t){"play"===t?r.pausePlay.removeClass(o+"pause").addClass(o+"play").html(r.vars.playText):r.pausePlay.removeClass(o+"play").addClass(o+"pause").html(r.vars.pauseText)}},touch:function(){function e(t){t.stopPropagation(),r.animating?t.preventDefault():(r.pause(),i._gesture.addPointer(t.pointerId),_=0,u=h?r.h:r.w,f=Number(new Date),c=v&&p&&r.animatingTo===r.last?0:v&&p?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:v&&r.currentSlide===r.last?r.limit:v?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:p?(r.last-r.currentSlide+r.cloneOffset)*u:(r.currentSlide+r.cloneOffset)*u)}function n(e){e.stopPropagation();var n=e.target._slider;if(n){var a=-e.translationX,r=-e.translationY;return _+=h?r:a,d=_,x=h?Math.abs(_)<Math.abs(-a):Math.abs(_)<Math.abs(-r),e.detail===e.MSGESTURE_FLAG_INERTIA?void t(function(){i._gesture.stop()}):void((!x||Number(new Date)-f>500)&&(e.preventDefault(),!m&&n.transitions&&(n.vars.animationLoop||(d=_/(0===n.currentSlide&&_<0||n.currentSlide===n.last&&_>0?Math.abs(_)/u+2:1)),n.setProps(c+d,"setTouch"))))}}function a(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!x&&null!==d){var n=p?-d:d,i=n>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(n)>50||Math.abs(n)>u/2)?e.flexAnimate(i,e.vars.pauseOnAction):m||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}s=null,o=null,d=null,c=null,_=0}}var s,o,c,u,d,f,g,y,b,x=!1,w=0,T=0,_=0;l?(i.style.msTouchAction="none",i._gesture=new MSGesture,i._gesture.target=i,i.addEventListener("MSPointerDown",e,!1),i._slider=r,i.addEventListener("MSGestureChange",n,!1),i.addEventListener("MSGestureEnd",a,!1)):(g=function(t){r.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(r.pause(),u=h?r.h:r.w,f=Number(new Date),w=t.touches[0].pageX,T=t.touches[0].pageY,c=v&&p&&r.animatingTo===r.last?0:v&&p?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:v&&r.currentSlide===r.last?r.limit:v?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:p?(r.last-r.currentSlide+r.cloneOffset)*u:(r.currentSlide+r.cloneOffset)*u,s=h?T:w,o=h?w:T,i.addEventListener("touchmove",y,!1),i.addEventListener("touchend",b,!1))},y=function(t){w=t.touches[0].pageX,T=t.touches[0].pageY,d=h?s-T:s-w,x=h?Math.abs(d)<Math.abs(w-o):Math.abs(d)<Math.abs(T-o);var e=500;(!x||Number(new Date)-f>e)&&(t.preventDefault(),!m&&r.transitions&&(r.vars.animationLoop||(d/=0===r.currentSlide&&d<0||r.currentSlide===r.last&&d>0?Math.abs(d)/u+2:1),r.setProps(c+d,"setTouch")))},b=function(t){if(i.removeEventListener("touchmove",y,!1),r.animatingTo===r.currentSlide&&!x&&null!==d){var e=p?-d:d,n=e>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(n)&&(Number(new Date)-f<550&&Math.abs(e)>50||Math.abs(e)>u/2)?r.flexAnimate(n,r.vars.pauseOnAction):m||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}i.removeEventListener("touchend",b,!1),s=null,o=null,d=null,c=null},i.addEventListener("touchstart",g,!1))},resize:function(){!r.animating&&r.is(":visible")&&(v||r.doMath(),m?g.smoothHeight():v?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):h?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(r.vars.smoothHeight&&g.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(t){if(!h||m){var e=m?r:r.viewport;t?e.animate({height:r.slides.eq(r.animatingTo).height()},t):e.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var t=g.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){g.pauseInvisible.isHidden()?r.startTimeout?clearTimeout(r.startTimeout):r.pause():r.started?r.play():r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()})}},isHidden:function(){var t=g.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(s),s=setTimeout(function(){d=""},3e3)}},r.flexAnimate=function(t,n,i,a,s){if(r.vars.animationLoop||t===r.currentSlide||(r.direction=t>r.currentSlide?"next":"prev"),f&&1===r.pagingCount&&(r.direction=r.currentItem<t?"next":"prev"),!r.animating&&(r.canAdvance(t,s)||i)&&r.is(":visible")){if(f&&a){var l=e(r.vars.asNavFor).data("flexslider");if(r.atEnd=0===t||t===r.count-1,l.flexAnimate(t,!0,!1,!0,s),r.direction=r.currentItem<t?"next":"prev",l.direction=r.direction,Math.ceil((t+1)/r.visible)-1===r.currentSlide||0===t)return r.currentItem=t,r.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;r.currentItem=t,r.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/r.visible)}if(r.animating=!0,r.animatingTo=t,n&&r.pause(),r.vars.before(r),r.syncExists&&!s&&g.sync("animate"),r.vars.controlNav&&g.controlNav.active(),v||r.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),r.atEnd=0===t||t===r.last,r.vars.directionNav&&g.directionNav.update(),t===r.last&&(r.vars.end(r),r.vars.animationLoop||r.pause()),m)c?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(t).css({opacity:1,zIndex:2}),r.wrapup(b)):(r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing),r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup));else{var u,d,y,b=h?r.slides.filter(":first").height():r.computedW;v?(u=r.vars.itemMargin,y=(r.itemW+u)*r.move*r.animatingTo,d=y>r.limit&&1!==r.visible?r.limit:y):d=0===r.currentSlide&&t===r.count-1&&r.vars.animationLoop&&"next"!==r.direction?p?(r.count+r.cloneOffset)*b:0:r.currentSlide===r.last&&0===t&&r.vars.animationLoop&&"prev"!==r.direction?p?0:(r.count+1)*b:p?(r.count-1-t+r.cloneOffset)*b:(t+r.cloneOffset)*b,r.setProps(d,"",r.vars.animationSpeed),r.transitions?(r.vars.animationLoop&&r.atEnd||(r.animating=!1,r.currentSlide=r.animatingTo),r.container.unbind("webkitTransitionEnd transitionend"),r.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(r.ensureAnimationEnd),r.wrapup(b)}),clearTimeout(r.ensureAnimationEnd),r.ensureAnimationEnd=setTimeout(function(){r.wrapup(b)},r.vars.animationSpeed+100)):r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(b)})}r.vars.smoothHeight&&g.smoothHeight(r.vars.animationSpeed)}},r.wrapup=function(t){m||v||(0===r.currentSlide&&r.animatingTo===r.last&&r.vars.animationLoop?r.setProps(t,"jumpEnd"):r.currentSlide===r.last&&0===r.animatingTo&&r.vars.animationLoop&&r.setProps(t,"jumpStart")),r.animating=!1,r.currentSlide=r.animatingTo,r.vars.after(r)},r.animateSlides=function(){!r.animating&&n&&r.flexAnimate(r.getTarget("next"))},r.pause=function(){clearInterval(r.animatedSlides),r.animatedSlides=null,r.playing=!1,r.vars.pausePlay&&g.pausePlay.update("play"),r.syncExists&&g.sync("pause")},r.play=function(){r.playing&&clearInterval(r.animatedSlides),r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed),r.started=r.playing=!0,r.vars.pausePlay&&g.pausePlay.update("pause"),r.syncExists&&g.sync("play")},r.stop=function(){r.pause(),r.stopped=!0},r.canAdvance=function(t,e){var n=f?r.pagingCount-1:r.last;return!!e||(!(!f||r.currentItem!==r.count-1||0!==t||"prev"!==r.direction)||(!f||0!==r.currentItem||t!==r.pagingCount-1||"next"===r.direction)&&(!(t===r.currentSlide&&!f)&&(!!r.vars.animationLoop||(!r.atEnd||0!==r.currentSlide||t!==n||"next"===r.direction)&&(!r.atEnd||r.currentSlide!==n||0!==t||"next"!==r.direction))))},r.getTarget=function(t){return r.direction=t,"next"===t?r.currentSlide===r.last?0:r.currentSlide+1:0===r.currentSlide?r.last:r.currentSlide-1},r.setProps=function(t,e,n){var i=function(){var n=t?t:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(v)return"setTouch"===e?t:p&&r.animatingTo===r.last?0:p?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n;switch(e){case"setTotal":return p?(r.count-1-r.currentSlide+r.cloneOffset)*t:(r.currentSlide+r.cloneOffset)*t;case"setTouch":return p?t:t;case"jumpEnd":return p?t:r.count*t;case"jumpStart":return p?r.count*t:t;default:return t}}();return i*-1+"px"}();r.transitions&&(i=h?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",n=void 0!==n?n/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",n),r.container.css("transition-duration",n)),r.args[r.prop]=i,(r.transitions||void 0===n)&&r.container.css(r.args),r.container.css("transform",i)},r.setup=function(t){if(m)r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(c?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):0==r.vars.fadeFirstSlide?r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).css({opacity:1}):r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing)),r.vars.smoothHeight&&g.smoothHeight();else{var n,i;"init"===t&&(r.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,p&&(i=e.makeArray(r.slides).reverse(),r.slides=e(i),r.container.empty().append(r.slides))),r.vars.animationLoop&&!v&&(r.cloneCount=2,r.cloneOffset=1,"init"!==t&&r.container.find(".clone").remove(),r.container.append(g.uniqueID(r.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(r.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),r.newSlides=e(r.vars.selector,r),n=p?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset,h&&!v?(r.container.height(200*(r.count+r.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){r.newSlides.css({display:"block"}),r.doMath(),r.viewport.height(r.h),r.setProps(n*r.h,"init")},"init"===t?100:0)):(r.container.width(200*(r.count+r.cloneCount)+"%"),r.setProps(n*r.computedW,"init"),setTimeout(function(){r.doMath(),r.newSlides.css({width:r.computedW,marginRight:r.computedM,"float":"left",display:"block"}),r.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0))}v||r.slides.removeClass(o+"active-slide").eq(r.currentSlide).addClass(o+"active-slide"),r.vars.init(r)},r.doMath=function(){var t=r.slides.first(),e=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=void 0===r.viewport?r.width():r.viewport.width(),r.h=t.height(),r.boxPadding=t.outerWidth()-t.width(),v?(r.itemT=r.vars.itemWidth+e,r.itemM=e,r.minW=n?n*r.itemT:r.w,r.maxW=i?i*r.itemT-e:r.w,r.itemW=r.minW>r.w?(r.w-e*(n-1))/n:r.maxW<r.w?(r.w-e*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth,r.visible=Math.floor(r.w/r.itemW),r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=1===r.pagingCount?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+e*(r.count-1):(r.itemW+e)*r.count-r.w-e):(r.itemW=r.w,r.itemM=e,r.pagingCount=r.count,r.last=r.count-1),r.computedW=r.itemW-r.boxPadding,r.computedM=r.itemM},r.update=function(t,e){r.doMath(),v||(t<r.currentSlide?r.currentSlide+=1:t<=r.currentSlide&&0!==t&&(r.currentSlide-=1),r.animatingTo=r.currentSlide),r.vars.controlNav&&!r.manualControls&&("add"===e&&!v||r.pagingCount>r.controlNav.length?g.controlNav.update("add"):("remove"===e&&!v||r.pagingCount<r.controlNav.length)&&(v&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),g.controlNav.update("remove",r.last))),r.vars.directionNav&&g.directionNav.update()},r.addSlide=function(t,n){var i=e(t);r.count+=1,r.last=r.count-1,h&&p?void 0!==n?r.slides.eq(r.count-n).after(i):r.container.prepend(i):void 0!==n?r.slides.eq(n).before(i):r.container.append(i),r.update(n,"add"),r.slides=e(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.added(r)},r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1,r.last=r.count-1,isNaN(t)?e(t,r.slides).remove():h&&p?r.slides.eq(r.last).remove():r.slides.eq(t).remove(),r.doMath(),r.update(n,"remove"),r.slides=e(r.vars.selector+":not(.clone)",r),r.setup(),r.vars.removed(r)},g.init()},e(window).blur(function(t){n=!1}).focus(function(t){n=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",a=n.find(i);1===a.length&&t.allowOneSlide===!0||0===a.length?(a.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(e)}).call(e,n(31).setImmediate)},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var a=Function.prototype.apply;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(32),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return m[v]=i,p(v),v++}function a(t){delete m[t]}function r(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function s(t){if(f)setTimeout(s,0,t);else{var e=m[t];if(e){f=!0;try{r(e)}finally{a(t),f=!1}}}}function o(){p=function(t){e.nextTick(function(){s(t)})}}function l(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),p=function(n){t.postMessage(e+n,"*")}}function u(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;s(e)},p=function(e){t.port2.postMessage(e)}}function d(){var t=g.documentElement;p=function(e){var n=g.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function h(){p=function(t){setTimeout(s,0,t)}}if(!t.setImmediate){var p,v=1,m={},f=!1,g=t.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t,"[object process]"==={}.toString.call(t.process)?o():l()?c():t.MessageChannel?u():g&&"onreadystatechange"in g.createElement("script")?d():h(),y.setImmediate=i,y.clearImmediate=a}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(33))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function s(){m&&p&&(m=!1,p.length?v=p.concat(v):f=-1,v.length&&o())}function o(){if(!m){var t=a(s);m=!0;for(var e=v.length;e;){for(p=v,v=[];++f<e;)p&&p[f].run();f=-1,e=v.length}p=null,m=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var p,v=[],m=!1,f=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new l(t,e)),
1!==v.length||m||a(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){var i,a,r;!function(s){a=[n(16)],i=s,r="function"==typeof i?i.apply(e,a):i,!(void 0!==r&&(t.exports=r))}(function(t){t.extend(t.easing,{easeOutCubic:function(t,e,n,i,a){return i*((e=e/a-1)*e*e+1)+n}});var e={speed:0,smartShow:!0,smartHeight:200,scrollTo:0,container:null},n=function(n){this.opts=t.extend({},e,n),this.init()};return n.prototype={init:function(){var e=this,n=e.opts;e.$container=t(n.container?container:document),e.$conBody=e.render(),e.opts.smartShow&&e.autoShow(),e.bindEvent()},bindEvent:function(){var t=this;t.$conBody.on("click",".gotop-arrow",function(){t.goTop()})},goTop:function(){var e=this,n=e.opts,i=n.speed,a=n.scrollTo;t.isNumeric(i)?t("html,body").animate({scrollTop:a},i,"easeOutCubic"):"string"==typeof a&&e.$container.scrollTop(t(n.scrollTo).offset().top)},autoShow:function(){var e,n=this,i=n.$container,a=n.$conBody,r=i.width(),s=this.opts.smartHeight;r<1240&&t("siteGotop").css({left:"initial",right:10,marginLeft:0}),i.scrollTop()>s&&a.fadeIn(300),i.on("scroll",function(){n.timer&&(clearTimeout(n.timer),e=null),n.timer=setTimeout(function(){i.scrollTop()>s?a.fadeIn():a.fadeOut("fast")},100)})},render:function(){var e=this,n='<div class="site-gotop" id="siteGotop"><a class="gotop-suggest" title="建议反馈" href="http://me.meizu.com/member/advice/index" target="_blank"></a><div class="gotop-arrow" title="回到顶部"></div></div>',i=".site-gotop{position:fixed;width:44px;bottom:50px;left:50%;margin-left:640px;display:none}.gotop-suggest,.gotop-arrow{display:inline-block;width:44px;height:44px;background:#b4b4b4 no-repeat 50%50%;cursor:pointer}.gotop-suggest{background-image:url(http://store.res.meizu.com/resources/php/store/static/detail/assets/img/suggest.png)}.gotop-arrow{background-image:url(http://store.res.meizu.com/resources/php/store/static/detail/assets/img/gotop-arrow.png);margin-top:5px}";return e.createStyle(i),t(n).appendTo("body")},createStyle:function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)},destroy:function(){this.$container.off("scroll.scrollfix")}},n})}]));